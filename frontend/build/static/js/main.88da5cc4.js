/*! For license information please see main.88da5cc4.js.LICENSE.txt */
(()=>{"use strict";var e={4:(e,t,n)=>{var i=n(853),r=n(43),a=n(950);function o(e){var t="https://358486f4-2d9c-45df-bddb-0477339b41f4.preview.emergentagent.com","/api"),wc=(0,r.createContext)(),_c=(0,r.createContext)(),kc=()=>{const e=(0,r.useContext)(wc);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Sc=()=>{const e=(0,r.useContext)(_c);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},Ec=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(localStorage.getItem("token")),[s,l]=(0,r.useState)(!0);(0,r.useEffect)((()=>{a?Lt.defaults.headers.common.Authorization="Bearer ".concat(a):delete Lt.defaults.headers.common.Authorization}),[a]),(0,r.useEffect)((()=>{(async()=>{if(a)try{const e=await Lt.get("".concat(vc,"/me"));i(e.data)}catch(e){localStorage.removeItem("token"),o(null)}l(!1)})()}),[a]);const c={user:n,token:a,login:async e=>{try{console.log("Attempting login with:",e),console.log("API URL:","".concat(vc,"/login"));const t=await Lt.post("".concat(vc,"/login"),e);console.log("Login response:",t.data);const{access_token:n,user:r}=t.data;return o(n),i(r),localStorage.setItem("token",n),{success:!0}}catch(a){var t,n,r;return console.error("Login error:",a),console.error("Error response:",null===(t=a.response)||void 0===t?void 0:t.data),{success:!1,error:(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Login failed"}}},logout:()=>{o(null),i(null),localStorage.removeItem("token"),delete Lt.defaults.headers.common.Authorization},isLoading:s,isAuthenticated:!!a};return(0,xc.jsx)(wc.Provider,{value:c,children:t})},Mc=e=>{let{children:t}=e;const[n,i]=(0,r.useState)("dark"===localStorage.getItem("theme")),a={isDarkMode:n,toggleTheme:()=>{i(!n),localStorage.setItem("theme",n?"light":"dark")}};return(0,xc.jsx)(_c.Provider,{value:a,children:(0,xc.jsx)("div",{className:n?"dark":"",children:t})})},Cc=()=>{const[e,t]=(0,r.useState)({username:"",password:""}),[n,i]=(0,r.useState)(""),[a,o]=(0,r.useState)(!1),{login:s}=kc(),{isDarkMode:l}=Sc();return(0,xc.jsx)("div",{className:"min-h-screen flex items-center justify-center ".concat(l?"bg-gray-900":"bg-gray-50"),children:(0,xc.jsxs)("div",{className:"max-w-md w-full space-y-8 ".concat(l?"bg-gray-800":"bg-white"," p-8 rounded-lg shadow-lg"),children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold ".concat(l?"text-white":"text-gray-900"),children:"Smartworld Developers"}),(0,xc.jsx)("p",{className:"mt-2 text-center text-sm ".concat(l?"text-gray-300":"text-gray-600"),children:"Attendance Management System"}),(0,xc.jsxs)("p",{className:"mt-1 text-center text-xs ".concat(l?"text-gray-400":"text-gray-500"),children:["API: ",vc]})]}),(0,xc.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),o(!0),i(""),console.log("Form submitted with credentials:",e),console.log("API URL being used:","".concat(vc,"/login"));const n=await s(e);console.log("Login result:",n),n.success?console.log("Login successful!"):(i(n.error),console.error("Login failed:",n.error)),o(!1)},children:[(0,xc.jsxs)("div",{className:"space-y-4",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium ".concat(l?"text-gray-300":"text-gray-700"),children:"Username"}),(0,xc.jsx)("input",{id:"username",name:"username",type:"text",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border ".concat(l?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"," placeholder-gray-500 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"),placeholder:"Enter username",value:e.username,onChange:n=>t(u(u({},e),{},{username:n.target.value}))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium ".concat(l?"text-gray-300":"text-gray-700"),children:"Password"}),(0,xc.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"mt-1 appearance-none relative block w-full px-3 py-2 border ".concat(l?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"," placeholder-gray-500 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm"),placeholder:"Enter password",value:e.password,onChange:n=>t(u(u({},e),{},{password:n.target.value}))})]})]}),n&&(0,xc.jsx)("div",{className:"text-red-600 text-sm text-center",children:n}),(0,xc.jsx)("div",{children:(0,xc.jsx)("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:a?"Signing in...":"Sign in"})})]}),(0,xc.jsxs)("div",{className:"mt-6 ".concat(l?"border-gray-700":"border-gray-200"," border-t pt-6"),children:[(0,xc.jsx)("p",{className:"text-center text-sm ".concat(l?"text-gray-400":"text-gray-600"," mb-4"),children:"Demo Credentials:"}),(0,xc.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{username:"admin",password:"admin123",role:"Admin"},{username:"president",password:"president123",role:"President"},{username:"head1",password:"head123",role:"Head"},{username:"user1",password:"user123",role:"User"}].map(((e,n)=>(0,xc.jsx)("button",{type:"button",onClick:()=>t({username:e.username,password:e.password}),className:"text-xs p-2 rounded ".concat(l?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-gray-100 text-gray-700 hover:bg-gray-200"," transition-colors"),children:e.role},n)))})]})]})})},Pc=()=>{const{user:e,logout:t}=kc(),{isDarkMode:n,toggleTheme:i}=Sc(),[a,o]=(0,r.useState)("dashboard"),[s,l]=(0,r.useState)({}),[c,d]=(0,r.useState)([]),[h,f]=(0,r.useState)([]),[p,g]=(0,r.useState)([]),[m,b]=(0,r.useState)([]),[y,x]=(0,r.useState)([]),[v,w]=(0,r.useState)([]),[_,k]=(0,r.useState)(!0),[S,E]=(0,r.useState)(!1),[M,C]=(0,r.useState)(!1),[P,O]=(0,r.useState)(null),[N,T]=(0,r.useState)(!1),[A,L]=(0,r.useState)({employee_id:"",name:"",position:"",team:"",site:"",email:"",phone:"",hire_date:""}),[j,R]=(0,r.useState)({username:"",email:"",password:"",role:"user",site:"",team:""});(0,r.useEffect)((()=>{D()}),[]);const D=async()=>{try{k(!0),await Lt.post("".concat(vc,"/init-data")),await Promise.all([z(),F(),I(),B(),V(),H(),"admin"===e.role?W():Promise.resolve()])}catch(t){console.error("Error initializing data:",t)}finally{k(!1)}},z=async()=>{try{const e=await Lt.get("".concat(vc,"/attendance/stats"));l(e.data)}catch(e){console.error("Error loading attendance stats:",e)}},F=async()=>{try{const e=await Lt.get("".concat(vc,"/attendance/team-stats"));d(e.data)}catch(e){console.error("Error loading team stats:",e)}},I=async()=>{try{const e=await Lt.get("".concat(vc,"/attendance/site-stats"));f(e.data)}catch(e){console.error("Error loading site stats:",e)}},B=async()=>{try{const e=await Lt.get("".concat(vc,"/employees"));g(e.data)}catch(e){console.error("Error loading employees:",e)}},V=async()=>{try{const e=await Lt.get("".concat(vc,"/sites"));b(e.data)}catch(e){console.error("Error loading sites:",e)}},H=async()=>{try{const e=await Lt.get("".concat(vc,"/teams"));x(e.data)}catch(e){console.error("Error loading teams:",e)}},W=async()=>{try{const e=await Lt.get("".concat(vc,"/users"));w(e.data)}catch(e){console.error("Error loading users:",e)}},U="admin"===e.role||"president"===e.role,q="admin"===e.role||"president"===e.role||"head"===e.role,$="admin"===e.role,Y={labels:h.map((e=>e.site)),datasets:[{label:"Present",data:h.map((e=>e.present_count)),backgroundColor:"rgba(34, 197, 94, 0.8)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:1},{label:"Absent",data:h.map((e=>e.absent_count)),backgroundColor:"rgba(239, 68, 68, 0.8)",borderColor:"rgba(239, 68, 68, 1)",borderWidth:1},{label:"Late",data:h.map((e=>e.late_count)),backgroundColor:"rgba(245, 158, 11, 0.8)",borderColor:"rgba(245, 158, 11, 1)",borderWidth:1}]},Q={responsive:!0,plugins:{legend:{position:"top",labels:{color:n?"#E5E7EB":"#374151"}},title:{display:!0,text:"Site-wise Attendance Statistics",color:n?"#E5E7EB":"#374151"}},scales:{y:{beginAtZero:!0,ticks:{color:n?"#E5E7EB":"#374151"},grid:{color:n?"#374151":"#E5E7EB"}},x:{ticks:{color:n?"#E5E7EB":"#374151"},grid:{color:n?"#374151":"#E5E7EB"}}}};return _?(0,xc.jsx)("div",{className:"min-h-screen ".concat(n?"bg-gray-900":"bg-gray-100"," flex items-center justify-center"),children:(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,xc.jsx)("p",{className:"mt-4 ".concat(n?"text-gray-300":"text-gray-600"),children:"Loading Dashboard..."})]})}):(0,xc.jsxs)("div",{className:"min-h-screen ".concat(n?"bg-gray-900":"bg-gray-100"),children:[(0,xc.jsx)("header",{className:"".concat(n?"bg-gray-800":"bg-white"," shadow-md"),children:(0,xc.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,xc.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,xc.jsxs)("div",{className:"flex items-center",children:[(0,xc.jsx)("h1",{className:"text-3xl font-bold ".concat(n?"text-white":"text-gray-900"),children:"Smartworld Developers"}),(0,xc.jsx)("span",{className:"ml-4 bg-blue-600 text-white px-3 py-1 rounded-full text-sm",children:"Attendance Management System"})]}),(0,xc.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,xc.jsx)("button",{onClick:i,className:"p-2 rounded-lg ".concat(n?"bg-gray-700 text-yellow-400":"bg-gray-200 text-gray-700"," hover:bg-opacity-80 transition-colors"),children:n?(0,xc.jsx)(Ql,{className:"h-5 w-5"}):(0,xc.jsx)(Gl,{className:"h-5 w-5"})}),(0,xc.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,xc.jsx)(ec,{className:"h-8 w-8 ".concat(n?"text-gray-300":"text-gray-700")}),(0,xc.jsxs)("div",{children:[(0,xc.jsx)("p",{className:"text-sm font-medium ".concat(n?"text-white":"text-gray-900"),children:e.username}),(0,xc.jsx)("p",{className:"text-xs ".concat(n?"text-gray-400":"text-gray-500"),children:e.role})]})]}),(0,xc.jsx)("button",{onClick:t,className:"p-2 rounded-lg ".concat(n?"bg-red-700 text-white":"bg-red-600 text-white"," hover:bg-opacity-80 transition-colors"),children:(0,xc.jsx)(ic,{className:"h-5 w-5"})})]})]})})}),(0,xc.jsx)("nav",{className:"".concat(n?"bg-gray-800":"bg-white"," shadow-sm"),children:(0,xc.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,xc.jsxs)("div",{className:"flex space-x-8",children:[(0,xc.jsxs)("button",{onClick:()=>o("dashboard"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("dashboard"===a?"border-blue-500 text-blue-600":"border-transparent ".concat(n?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700")),children:[(0,xc.jsx)(oc,{className:"h-5 w-5 inline mr-1"}),"Dashboard"]}),U&&(0,xc.jsxs)("button",{onClick:()=>o("sites"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("sites"===a?"border-blue-500 text-blue-600":"border-transparent ".concat(n?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700")),children:[(0,xc.jsx)(oc,{className:"h-5 w-5 inline mr-1"}),"Site Analytics"]}),q&&(0,xc.jsxs)("button",{onClick:()=>o("employees"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("employees"===a?"border-blue-500 text-blue-600":"border-transparent ".concat(n?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700")),children:[(0,xc.jsx)(cc,{className:"h-5 w-5 inline mr-1"}),"Employees"]}),$&&(0,xc.jsxs)("button",{onClick:()=>o("users"),className:"py-4 px-1 border-b-2 font-medium text-sm ".concat("users"===a?"border-blue-500 text-blue-600":"border-transparent ".concat(n?"text-gray-300 hover:text-gray-100":"text-gray-500 hover:text-gray-700")),children:[(0,xc.jsx)(hc,{className:"h-5 w-5 inline mr-1"}),"User Management"]})]})})}),(0,xc.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:["dashboard"===a&&(0,xc.jsxs)(xc.Fragment,{children:[(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-6 mb-6"),children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold ".concat(n?"text-white":"text-gray-800"," mb-4"),children:"Today's Attendance Overview"}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-700":"bg-blue-100"," p-4 rounded-lg"),children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold ".concat(n?"text-blue-300":"text-blue-800"),children:"Total Employees"}),(0,xc.jsx)("p",{className:"text-2xl font-bold ".concat(n?"text-blue-200":"text-blue-900"),children:s.total_employees||0})]}),(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-700":"bg-green-100"," p-4 rounded-lg"),children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold ".concat(n?"text-green-300":"text-green-800"),children:"Present"}),(0,xc.jsx)("p",{className:"text-2xl font-bold ".concat(n?"text-green-200":"text-green-900"),children:s.present||0})]}),(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-700":"bg-red-100"," p-4 rounded-lg"),children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold ".concat(n?"text-red-300":"text-red-800"),children:"Absent"}),(0,xc.jsx)("p",{className:"text-2xl font-bold ".concat(n?"text-red-200":"text-red-900"),children:s.absent||0})]}),(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-700":"bg-yellow-100"," p-4 rounded-lg"),children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold ".concat(n?"text-yellow-300":"text-yellow-800"),children:"Late"}),(0,xc.jsx)("p",{className:"text-2xl font-bold ".concat(n?"text-yellow-200":"text-yellow-900"),children:s.late||0})]})]}),(0,xc.jsxs)("div",{className:"mt-4 ".concat(n?"bg-gray-700":"bg-gray-100"," p-4 rounded-lg"),children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold ".concat(n?"text-gray-200":"text-gray-800"),children:"Attendance Percentage"}),(0,xc.jsx)("div",{className:"w-full ".concat(n?"bg-gray-600":"bg-gray-200"," rounded-full h-4 mt-2"),children:(0,xc.jsx)("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-300",style:{width:"".concat(s.attendance_percentage||0,"%")}})}),(0,xc.jsxs)("p",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"," mt-1"),children:[s.attendance_percentage||0,"%"]})]})]}),(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-6 mb-6"),children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold ".concat(n?"text-white":"text-gray-800"," mb-4"),children:"Team Attendance Statistics"}),(0,xc.jsx)("div",{className:"space-y-4",children:c.map(((e,t)=>(0,xc.jsxs)("div",{className:"border ".concat(n?"border-gray-700":"border-gray-200"," rounded-lg p-4"),children:[(0,xc.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold ".concat(n?"text-white":"text-gray-800"),children:e.team}),(0,xc.jsx)("p",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"),children:e.site})]}),(0,xc.jsxs)("div",{className:"text-right",children:[(0,xc.jsxs)("p",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"),children:["Total: ",e.total_members]}),(0,xc.jsxs)("p",{className:"text-sm font-medium ".concat(n?"text-green-400":"text-green-600"),children:[e.attendance_percentage,"% Present"]})]})]}),(0,xc.jsx)("div",{className:"flex space-x-4 mb-3",children:(0,xc.jsxs)("div",{className:"flex-1",children:[(0,xc.jsxs)("div",{className:"flex justify-between text-sm mb-1 ".concat(n?"text-gray-300":"text-gray-700"),children:[(0,xc.jsxs)("span",{children:["Present: ",e.present_count]}),(0,xc.jsxs)("span",{children:["Absent: ",e.absent_count]}),(0,xc.jsxs)("span",{children:["Late: ",e.late_count]})]}),(0,xc.jsx)("div",{className:"w-full ".concat(n?"bg-gray-700":"bg-gray-200"," rounded-full h-3"),children:(0,xc.jsx)("div",{className:"bg-green-500 h-3 rounded-l-full",style:{width:"".concat(e.present_count/e.total_members*100,"%")}})})]})}),(0,xc.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsxs)("h4",{className:"font-medium ".concat(n?"text-green-400":"text-green-700"," mb-1"),children:["Present (",e.present_count,")"]}),(0,xc.jsx)("div",{className:"max-h-20 overflow-y-auto",children:e.present_members.map(((e,t)=>(0,xc.jsx)("div",{className:"".concat(n?"text-green-300":"text-green-600"),children:e},t)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsxs)("h4",{className:"font-medium ".concat(n?"text-red-400":"text-red-700"," mb-1"),children:["Absent (",e.absent_count,")"]}),(0,xc.jsx)("div",{className:"max-h-20 overflow-y-auto",children:e.absent_members.map(((e,t)=>(0,xc.jsx)("div",{className:"".concat(n?"text-red-300":"text-red-600"),children:e},t)))})]}),(0,xc.jsxs)("div",{children:[(0,xc.jsxs)("h4",{className:"font-medium ".concat(n?"text-yellow-400":"text-yellow-700"," mb-1"),children:["Late (",e.late_count,")"]}),(0,xc.jsx)("div",{className:"max-h-20 overflow-y-auto",children:e.late_members.map(((e,t)=>(0,xc.jsx)("div",{className:"".concat(n?"text-yellow-300":"text-yellow-600"),children:e},t)))})]})]})]},t)))})]})]}),"sites"===a&&U&&(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-6"),children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold ".concat(n?"text-white":"text-gray-800"," mb-6"),children:"Site-wise Attendance Analytics"}),(0,xc.jsx)("div",{className:"mb-8",children:(0,xc.jsx)(ql,{data:Y,options:Q})}),(0,xc.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(((e,t)=>(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-700":"bg-gray-50"," rounded-lg p-4"),children:[(0,xc.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,xc.jsxs)("div",{children:[(0,xc.jsx)("h3",{className:"text-lg font-semibold ".concat(n?"text-white":"text-gray-800"),children:e.site}),(0,xc.jsx)("p",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"),children:e.location})]}),(0,xc.jsx)("button",{onClick:()=>(e=>{O(e),T(!0)})(e),className:"p-2 rounded-lg ".concat(n?"bg-blue-600 hover:bg-blue-700":"bg-blue-500 hover:bg-blue-600"," text-white transition-colors"),children:(0,xc.jsx)(gc,{className:"h-4 w-4"})})]}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{className:"text-sm ".concat(n?"text-gray-300":"text-gray-700"),children:"Total Members:"}),(0,xc.jsx)("span",{className:"font-medium ".concat(n?"text-white":"text-gray-900"),children:e.total_members})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{className:"text-sm ".concat(n?"text-green-400":"text-green-600"),children:"Present:"}),(0,xc.jsx)("span",{className:"font-medium ".concat(n?"text-green-300":"text-green-700"),children:e.present_count})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{className:"text-sm ".concat(n?"text-red-400":"text-red-600"),children:"Absent:"}),(0,xc.jsx)("span",{className:"font-medium ".concat(n?"text-red-300":"text-red-700"),children:e.absent_count})]}),(0,xc.jsxs)("div",{className:"flex justify-between",children:[(0,xc.jsx)("span",{className:"text-sm ".concat(n?"text-yellow-400":"text-yellow-600"),children:"Late:"}),(0,xc.jsx)("span",{className:"font-medium ".concat(n?"text-yellow-300":"text-yellow-700"),children:e.late_count})]})]}),(0,xc.jsx)("div",{className:"mt-3 ".concat(n?"bg-gray-600":"bg-gray-200"," rounded-full h-2"),children:(0,xc.jsx)("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:"".concat(e.attendance_percentage,"%")}})}),(0,xc.jsxs)("p",{className:"text-xs ".concat(n?"text-gray-400":"text-gray-600"," mt-1 text-center"),children:[e.attendance_percentage,"% Attendance"]})]},t)))})]}),"employees"===a&&q&&(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-6"),children:[(0,xc.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold ".concat(n?"text-white":"text-gray-800"),children:"Employee Management"}),(0,xc.jsxs)("button",{onClick:()=>E(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,xc.jsx)(yc,{className:"h-5 w-5 mr-1"}),"Add Employee"]})]}),(0,xc.jsx)("div",{className:"overflow-x-auto",children:(0,xc.jsxs)("table",{className:"w-full",children:[(0,xc.jsx)("thead",{children:(0,xc.jsxs)("tr",{className:"".concat(n?"bg-gray-700":"bg-gray-100"),children:[(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Employee ID"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Name"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Position"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Team"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Site"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Email"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Phone"})]})}),(0,xc.jsx)("tbody",{children:p.map(((e,t)=>(0,xc.jsxs)("tr",{className:"border-b ".concat(n?"border-gray-600 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"),children:[(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.employee_id}),(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.name}),(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.position}),(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.team}),(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.site}),(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.email}),(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.phone})]},t)))})]})})]}),"users"===a&&$&&(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-800":"bg-white"," rounded-lg shadow-md p-6"),children:[(0,xc.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,xc.jsx)("h2",{className:"text-2xl font-bold ".concat(n?"text-white":"text-gray-800"),children:"User Management"}),(0,xc.jsxs)("button",{onClick:()=>C(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center",children:[(0,xc.jsx)(yc,{className:"h-5 w-5 mr-1"}),"Add User"]})]}),(0,xc.jsx)("div",{className:"overflow-x-auto",children:(0,xc.jsxs)("table",{className:"w-full",children:[(0,xc.jsx)("thead",{children:(0,xc.jsxs)("tr",{className:"".concat(n?"bg-gray-700":"bg-gray-100"),children:[(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Username"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Email"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Role"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Site"}),(0,xc.jsx)("th",{className:"px-4 py-2 text-left ".concat(n?"text-gray-300":"text-gray-700"),children:"Team"})]})}),(0,xc.jsx)("tbody",{children:v.map(((e,t)=>(0,xc.jsxs)("tr",{className:"border-b ".concat(n?"border-gray-600 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50"),children:[(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.username}),(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.email}),(0,xc.jsx)("td",{className:"px-4 py-2",children:(0,xc.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("admin"===e.role?"bg-red-100 text-red-800":"president"===e.role?"bg-purple-100 text-purple-800":"head"===e.role?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.role})}),(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.site}),(0,xc.jsx)("td",{className:"px-4 py-2 ".concat(n?"text-gray-300":"text-gray-700"),children:e.team})]},t)))})]})})]})]}),S&&(0,xc.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-800":"bg-white"," rounded-lg p-6 w-full max-w-md"),children:[(0,xc.jsx)("h3",{className:"text-lg font-bold mb-4 ".concat(n?"text-white":"text-gray-900"),children:"Add New Employee"}),(0,xc.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await Lt.post("".concat(vc,"/employees"),A),E(!1),L({employee_id:"",name:"",position:"",team:"",site:"",email:"",phone:"",hire_date:""}),await B(),await F(),await I(),await z()}catch(t){console.error("Error adding employee:",t)}},children:[(0,xc.jsxs)("div",{className:"space-y-4",children:[(0,xc.jsx)("input",{type:"text",placeholder:"Employee ID",value:A.employee_id,onChange:e=>L(u(u({},A),{},{employee_id:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0}),(0,xc.jsx)("input",{type:"text",placeholder:"Name",value:A.name,onChange:e=>L(u(u({},A),{},{name:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0}),(0,xc.jsx)("input",{type:"text",placeholder:"Position",value:A.position,onChange:e=>L(u(u({},A),{},{position:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0}),(0,xc.jsxs)("select",{value:A.team,onChange:e=>L(u(u({},A),{},{team:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0,children:[(0,xc.jsx)("option",{value:"",children:"Select Team"}),y.map(((e,t)=>(0,xc.jsx)("option",{value:e.name,children:e.name},t)))]}),(0,xc.jsxs)("select",{value:A.site,onChange:e=>L(u(u({},A),{},{site:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0,children:[(0,xc.jsx)("option",{value:"",children:"Select Site"}),m.map(((e,t)=>(0,xc.jsx)("option",{value:e.name,children:e.name},t)))]}),(0,xc.jsx)("input",{type:"email",placeholder:"Email",value:A.email,onChange:e=>L(u(u({},A),{},{email:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0}),(0,xc.jsx)("input",{type:"tel",placeholder:"Phone",value:A.phone,onChange:e=>L(u(u({},A),{},{phone:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0}),(0,xc.jsx)("input",{type:"date",placeholder:"Hire Date",value:A.hire_date,onChange:e=>L(u(u({},A),{},{hire_date:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0})]}),(0,xc.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,xc.jsx)("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2 rounded-lg ".concat(n?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:"Cancel"}),(0,xc.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Employee"})]})]})]})}),M&&(0,xc.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-800":"bg-white"," rounded-lg p-6 w-full max-w-md"),children:[(0,xc.jsx)("h3",{className:"text-lg font-bold mb-4 ".concat(n?"text-white":"text-gray-900"),children:"Add New User"}),(0,xc.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{await Lt.post("".concat(vc,"/users"),j),C(!1),R({username:"",email:"",password:"",role:"user",site:"",team:""}),await W()}catch(t){console.error("Error adding user:",t)}},children:[(0,xc.jsxs)("div",{className:"space-y-4",children:[(0,xc.jsx)("input",{type:"text",placeholder:"Username",value:j.username,onChange:e=>R(u(u({},j),{},{username:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0}),(0,xc.jsx)("input",{type:"email",placeholder:"Email",value:j.email,onChange:e=>R(u(u({},j),{},{email:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0}),(0,xc.jsx)("input",{type:"password",placeholder:"Password",value:j.password,onChange:e=>R(u(u({},j),{},{password:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0}),(0,xc.jsxs)("select",{value:j.role,onChange:e=>R(u(u({},j),{},{role:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0,children:[(0,xc.jsx)("option",{value:"user",children:"User"}),(0,xc.jsx)("option",{value:"head",children:"Head"}),(0,xc.jsx)("option",{value:"president",children:"President"}),(0,xc.jsx)("option",{value:"admin",children:"Admin"})]}),(0,xc.jsxs)("select",{value:j.site,onChange:e=>R(u(u({},j),{},{site:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0,children:[(0,xc.jsx)("option",{value:"",children:"Select Site"}),m.map(((e,t)=>(0,xc.jsx)("option",{value:e.name,children:e.name},t)))]}),(0,xc.jsxs)("select",{value:j.team,onChange:e=>R(u(u({},j),{},{team:e.target.value})),className:"w-full p-2 border rounded-lg ".concat(n?"bg-gray-700 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"),required:!0,children:[(0,xc.jsx)("option",{value:"",children:"Select Team"}),y.map(((e,t)=>(0,xc.jsx)("option",{value:e.name,children:e.name},t)))]})]}),(0,xc.jsxs)("div",{className:"flex justify-end space-x-2 mt-6",children:[(0,xc.jsx)("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 rounded-lg ".concat(n?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:"Cancel"}),(0,xc.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add User"})]})]})]})}),N&&P&&(0,xc.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-800":"bg-white"," rounded-lg p-6 w-full max-w-lg"),children:[(0,xc.jsxs)("h3",{className:"text-lg font-bold mb-4 ".concat(n?"text-white":"text-gray-900"),children:[P.site," - Detailed Statistics"]}),(0,xc.jsxs)("div",{className:"space-y-4",children:[(0,xc.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-700":"bg-green-100"," p-4 rounded-lg"),children:[(0,xc.jsx)("h4",{className:"text-sm font-medium ".concat(n?"text-green-300":"text-green-800"),children:"Total Present"}),(0,xc.jsx)("p",{className:"text-2xl font-bold ".concat(n?"text-green-200":"text-green-900"),children:P.present_count})]}),(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-700":"bg-red-100"," p-4 rounded-lg"),children:[(0,xc.jsx)("h4",{className:"text-sm font-medium ".concat(n?"text-red-300":"text-red-800"),children:"Total Absent"}),(0,xc.jsx)("p",{className:"text-2xl font-bold ".concat(n?"text-red-200":"text-red-900"),children:P.absent_count})]})]}),(0,xc.jsxs)("div",{className:"".concat(n?"bg-gray-700":"bg-gray-100"," p-4 rounded-lg"),children:[(0,xc.jsx)("h4",{className:"text-sm font-medium ".concat(n?"text-gray-300":"text-gray-700"," mb-2"),children:"Site Information"}),(0,xc.jsxs)("div",{className:"space-y-2",children:[(0,xc.jsxs)("p",{className:"text-sm ".concat(n?"text-gray-300":"text-gray-600"),children:[(0,xc.jsx)("strong",{children:"Location:"})," ",P.location]}),(0,xc.jsxs)("p",{className:"text-sm ".concat(n?"text-gray-300":"text-gray-600"),children:[(0,xc.jsx)("strong",{children:"Manager:"})," ",P.manager]}),(0,xc.jsxs)("p",{className:"text-sm ".concat(n?"text-gray-300":"text-gray-600"),children:[(0,xc.jsx)("strong",{children:"Total Members:"})," ",P.total_members]}),(0,xc.jsxs)("p",{className:"text-sm ".concat(n?"text-gray-300":"text-gray-600"),children:[(0,xc.jsx)("strong",{children:"Late Arrivals:"})," ",P.late_count]}),(0,xc.jsxs)("p",{className:"text-sm ".concat(n?"text-gray-300":"text-gray-600"),children:[(0,xc.jsx)("strong",{children:"Half Day:"})," ",P.half_day_count]})]})]}),(0,xc.jsx)("div",{className:"".concat(n?"bg-gray-600":"bg-gray-200"," rounded-full h-3"),children:(0,xc.jsx)("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-300",style:{width:"".concat(P.attendance_percentage,"%")}})}),(0,xc.jsxs)("p",{className:"text-sm ".concat(n?"text-gray-400":"text-gray-600"," text-center"),children:["Overall Attendance: ",P.attendance_percentage,"%"]})]}),(0,xc.jsx)("div",{className:"flex justify-end mt-6",children:(0,xc.jsx)("button",{onClick:()=>T(!1),className:"px-4 py-2 rounded-lg ".concat(n?"bg-gray-600 text-gray-300 hover:bg-gray-500":"bg-gray-200 text-gray-600 hover:bg-gray-300"),children:"Close"})})]})})]})};const Oc=()=>{const{isAuthenticated:e,isLoading:t}=kc();return t?(0,xc.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,xc.jsxs)("div",{className:"text-center",children:[(0,xc.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),(0,xc.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?(0,xc.jsx)(Pc,{}):(0,xc.jsx)(Cc,{})},Nc=function(){return(0,xc.jsx)(Ec,{children:(0,xc.jsx)(Mc,{children:(0,xc.jsx)(Oc,{})})})};a.createRoot(document.getElementById("root")).render((0,xc.jsx)(r.StrictMode,{children:(0,xc.jsx)(Nc,{})}))})();
//# sourceMappingURL=main.88da5cc4.js.map